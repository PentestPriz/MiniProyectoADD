<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${editando != null ? 'Editar Cliente' : 'Nuevo Cliente'}">Cliente - Agencia de Viajes</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>

<body>
    <div class="container">
        <header>
            <h1 th:text="${editando != null ? '‚úèÔ∏è Editar Cliente' : 'üìù Nuevo Cliente'}">üìù Nuevo Cliente</h1>
        </header>

        <form th:action="@{/guardar}" th:object="${cliente}" method="post">
            <div class="form-row">
                <div class="form-group">
                    <label for="dni">DNI <span class="required">*</span></label>
                    <input type="text" id="dni" th:field="*{dni}"
                        th:classappend="${#fields.hasErrors('dni')} ? 'error' : ''" th:readonly="${editando != null}"
                        placeholder="Ej: 12345678A" required>
                    <span class="error-message" th:if="${#fields.hasErrors('dni')}" th:errors="*{dni}"></span>
                    <span class="form-hint" th:unless="${editando != null}">El DNI no se puede modificar despu√©s</span>
                </div>

                <div class="form-group">
                    <label for="caducidadDni">Caducidad DNI <span class="required">*</span></label>
                    <input type="date" id="caducidadDni" th:field="*{caducidadDni}"
                        th:classappend="${#fields.hasErrors('caducidadDni')} ? 'error' : ''" required>
                    <span class="error-message" th:if="${#fields.hasErrors('caducidadDni')}"
                        th:errors="*{caducidadDni}"></span>
                </div>
            </div>

            <div class="form-group">
                <label for="cliente">Nombre y Apellidos <span class="required">*</span></label>
                <input type="text" id="cliente" th:field="*{cliente}"
                    th:classappend="${#fields.hasErrors('cliente')} ? 'error' : ''" placeholder="Ej: Juan P√©rez Garc√≠a"
                    required>
                <span class="error-message" th:if="${#fields.hasErrors('cliente')}" th:errors="*{cliente}"></span>
            </div>

            <div class="form-group">
                <label for="direccion">Direcci√≥n <span class="required">*</span></label>
                <input type="text" id="direccion" th:field="*{direccion}"
                    th:classappend="${#fields.hasErrors('direccion')} ? 'error' : ''"
                    placeholder="Ej: Calle Mayor 123, Madrid" required>
                <span class="error-message" th:if="${#fields.hasErrors('direccion')}" th:errors="*{direccion}"></span>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="fechaNacimiento">Fecha de Nacimiento <span class="required">*</span></label>
                    <input type="date" id="fechaNacimiento" th:field="*{fechaNacimiento}"
                        th:classappend="${#fields.hasErrors('fechaNacimiento')} ? 'error' : ''" required>
                    <span class="error-message" th:if="${#fields.hasErrors('fechaNacimiento')}"
                        th:errors="*{fechaNacimiento}"></span>
                </div>

                <div class="form-group">
                    <label for="telefono">Tel√©fono <span class="required">*</span></label>
                    <input type="tel" id="telefono" th:field="*{telefono}"
                        th:classappend="${#fields.hasErrors('telefono')} ? 'error' : ''" placeholder="Ej: +34 600123456"
                        required>
                    <span class="error-message" th:if="${#fields.hasErrors('telefono')}" th:errors="*{telefono}"></span>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="nacionalidad">Nacionalidad <span class="required">*</span></label>
                    <input type="text" id="nacionalidad" th:field="*{nacionalidad}"
                        th:classappend="${#fields.hasErrors('nacionalidad')} ? 'error' : ''" placeholder="Ej: Espa√±ola"
                        required>
                    <span class="error-message" th:if="${#fields.hasErrors('nacionalidad')}"
                        th:errors="*{nacionalidad}"></span>
                </div>

                <div class="form-group">
                    <label for="seguroViaje">Seguro de Viaje <span class="required">*</span></label>
                    <select id="seguroViaje" th:field="*{seguroViaje}"
                        th:classappend="${#fields.hasErrors('seguroViaje')} ? 'error' : ''" required>
                        <option value="">-- Seleccione una opci√≥n --</option>
                        <option value="SI">SI</option>
                        <option value="NO">NO</option>
                    </select>
                    <span class="error-message" th:if="${#fields.hasErrors('seguroViaje')}"
                        th:errors="*{seguroViaje}"></span>
                </div>
            </div>

            <div class="form-group">
                <label for="correoElectronico">Correo Electr√≥nico <span class="required">*</span></label>
                <input type="email" id="correoElectronico" th:field="*{correoElectronico}"
                    th:classappend="${#fields.hasErrors('correoElectronico')} ? 'error' : ''"
                    placeholder="Ej: juan.perez@email.com" required>
                <span class="error-message" th:if="${#fields.hasErrors('correoElectronico')}"
                    th:errors="*{correoElectronico}"></span>
            </div>

            <div class="btn-group">
                <button type="submit" class="btn btn-primary">
                    <span th:text="${editando != null ? 'üíæ Actualizar Cliente' : 'üíæ Guardar Cliente'}">üíæ Guardar
                        Cliente</span>
                </button>
                <a href="/" class="btn btn-secondary">‚ùå Cancelar</a>
            </div>
        </form>
    </div>
</body>

</html>